{"openapi":"3.0.1","info":{"title":"Frontend Api","description":"","version":"1.0.0"},"tags":[],"paths":{"/auth/verify-user":{"post":{"summary":"Verify a User","deprecated":false,"description":"Allows the user to verify the provided email address.","tags":[],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","description":"Email Address"},"code":{"type":"integer","description":"code"}},"required":["code","email"]},"example":{"email":"rambodrahmani@aladia.io","code":301245}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"verified":{"type":"boolean","description":"  Indicates whether the user's account is verified"},"email":{"type":"string","description":" The user's email address"},"accessToken":{"type":"string","description":"The access token provided after verification"}},"required":["verified","email","accessToken"]},"examples":{"1":{"summary":"Success","value":{"verified":true,"email":"string","accessToken":"string"}},"2":{"summary":"Exception","value":{"statusCode":400,"timestamp":"2024-10-14T00:44:25.822Z","path":"/v2/auth/verify-user","message":"User already verified","errors":[]}},"3":{"summary":"Exception","value":{"statusCode":400,"timestamp":"2024-10-14T00:44:25.822Z","path":"/v2/auth/verify-user","message":"Invalid verification code","errors":[]}},"4":{"summary":"Record Not Found","value":{"statusCode":404,"timestamp":"2024-10-12T09:40:55.435Z","path":"/v2/auth/verify-user","message":"User not found","errors":[]}}}}},"headers":{}},"400":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer"},"timestamp":{"type":"string"},"path":{"type":"string"},"message":{"type":"string"},"errors":{"type":"array","items":{"type":"string"}}},"required":["statusCode","timestamp","path","message","errors"]},"examples":{"1":{"summary":"Exception","value":{"statusCode":-54455932,"timestamp":"2024-10-13T16:58:39.731Z","path":"dolor pariatur","message":"Itaque maxime ullam doloremque est officiis. Fugiat velit rerum consequatur repellendus iste. Earum amet tempore.","errors":["in"]}}}}},"headers":{}},"404":{"description":"","content":{"application/json":{"schema":{"title":"","type":"object","properties":{"statusCode":{"type":"number"},"timestamp":{"type":"string"},"path":{"type":"string"},"message":{"type":"string"},"errors":{"type":"array","items":{"type":"string"}}},"required":["statusCode","timestamp","path","message","errors"]}}},"headers":{}}},"security":[]}}},"components":{"schemas":{"user.model":{"type":"object","properties":{"_id":{"description":"Unique ID","$ref":"#/components/schemas/objectId"},"email":{"type":"string","description":"Email Address"},"password":{"type":"string","description":"Password"},"verification":{"type":"object","properties":{"code":{"type":"number","description":" The verification code sent to the user, typically used for validation purposes."},"expiresIn":{"type":"string","description":"The expiration date and time for the verification code, indicating when it is no longer valid."},"verified":{"type":"boolean","description":" A flag indicating whether the verification has been successfully completed (true) or not (false)."}},"description":"Verification status","required":["code","expiresIn","verified"]},"privileges":{"type":"array","items":{"type":"object","properties":{"resourceId":{"type":"string","description":"Organization resource id"},"role":{"type":"string","description":"Role Id"},"resouceType":{"type":"string","description":"Organization resource type"}},"required":["resourceId","role","resouceType"]},"description":"Organizations privileges"},"passwordReset":{"type":"object","properties":{"expiresIn":{"type":"string","description":"The expiration date and time for the password reset token, after which it is no longer valid."},"resetToken":{"type":"string","description":"A token used to authenticate the password reset request."}},"required":["expiresIn","resetToken"]},"UserStatus":{"type":"string","description":"The current status of the user"},"connectedAccount":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"id for google connected user"},"email":{"type":"string","description":"email that is connetted to account "},"provider":{"type":"string","description":"the authentication provider used"},"accessToken":{"type":"string","description":"acces token for google account"},"refreshToken":{"type":"string"},"connectedAt":{"type":"string"},"code":{"type":"string","description":"appleAccount.code,"},"idToken":{"type":"string","description":"appleAccount.idToken,"},"status":{"type":"string","description":"status of conneted accountes "},"verification":{"type":"object","properties":{"code":{"type":"number","description":" The verification code sent to the user, typically used for validation purposes."},"expiresIn":{"type":"string","description":"The expiration date and time for the verification code, indicating when it is no longer valid."},"verified":{"type":"boolean","description":" A flag indicating whether the verification has been successfully completed (true) or not (false)"}},"required":["code","expiresIn","verified"]}},"required":["id","email","provider","accessToken","refreshToken","connectedAt","code","idToken","status"]},"description":"Linked external accounts."},"tokens":{"type":"array","items":{"type":"string"},"description":" Session tokens."},"emailReset":{"type":"object","properties":{"expiresIn":{"type":"string","description":"The expiration date and time for the email reset process, indicating when the temporary email is no longer valid."},"tempEmail":{"type":"string","description":"The temporary email address that the user is switching to, pending verification."},"code":{"type":"number","description":" A verification code sent to the user to confirm the email change request."}},"required":["expiresIn","tempEmail","code"],"description":"Information for resetting the user's email."},"strikeCounter":{"type":"number","description":" Counter for violations."},"createdAt":{"type":"string","title":"","description":"date"},"updatedAt":{"type":"string"}},"required":["email","password","privileges","_id","UserStatus","strikeCounter","tokens","createdAt","updatedAt"]},"objectId":{"type":"string","description":"unique Mongo id","examples":["670775694daebf393b266ea1"]},"verifyUser.rto":{"type":"object","properties":{"verified":{"type":"boolean","description":"  Indicates whether the user's account is verified"},"email":{"type":"string","description":" The user's email address"},"accessToken":{"type":"string","description":"The access token provided after verification"}},"required":["verified"]}},"securitySchemes":{}},"servers":[]}