{"openapi":"3.0.1","info":{"title":"Frontend Api","description":"","version":"1.0.0"},"tags":[],"paths":{"/auth/register":{"post":{"summary":"Register user","deprecated":false,"description":"Triggers the creation of a new user authentication, enabling seamless integration with other microservices for efficient user handling.","tags":[],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","description":"Email Address"},"password":{"type":"string","description":"Password"},"privileges":{"type":"array","items":{"type":"object","properties":{"resourceId":{"type":"string","description":"Organization resource id"},"role":{"type":"string","description":"Role Id"},"resouceType":{"type":"string","description":"Organization resource type"}},"required":["resourceId","role","resouceType"]},"description":"Organizations privileges"},"firstName":{"type":"string","description":"firstName"},"lastName":{"type":"string","description":"lastName"}},"required":["firstName","lastName","email","password"]},"example":{"firstName":"Rambod","lastName":"Rahmani","email":"rambodrahmani@aladia.io","password":"Pass@123"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Unique ID"},"email":{"type":"string","description":"Email Address"},"privileges":{"type":"array","items":{"type":"object","properties":{"resourceId":{"type":"string","description":"Organization resource id"},"role":{"type":"string","description":"Role Id"},"resouceType":{"type":"string","description":"Organization resource type"}},"required":["resourceId","role","resouceType"]},"description":"Organizations privileges"}},"required":["id","email"]},"examples":{"1":{"summary":"Success","value":{"id":"670d213a5de1de48b50aa907","email":"tadaelshsadewaregagebre30@gmail.com","privileges":[]}}}}},"headers":{}},"400":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer"},"timestamp":{"type":"string"},"path":{"type":"string"},"message":{"type":"string"},"errors":{"type":"array","items":{"type":"string"}}},"required":["statusCode","timestamp","path","message","errors"]},"examples":{"1":{"summary":"Exception","value":{"statusCode":400,"timestamp":"2024-10-12T09:46:38.028Z","path":"/v2/auth/register","message":"User already exists","errors":[]}}}}},"headers":{}},"422":{"description":"","content":{"application/json":{"schema":{"title":"","type":"object","properties":{"statusCode":{"type":"number"},"timestamp":{"type":"string"},"path":{"type":"string"},"message":{"type":"string"},"errors":{"type":"array","items":{"type":"string"}}},"required":["statusCode","timestamp","path","message","errors"]},"examples":{"1":{"summary":"Parameter Error","value":{"statusCode":422,"timestamp":"2024-10-12T09:27:35.072Z","path":"/v2/auth/register","message":"Validation Exception","errors":[{"field":"email","rules":["isEmail"],"messages":["email must be an email"]}]}}}}},"headers":{}}},"security":[]}}},"components":{"schemas":{"user.model":{"type":"object","properties":{"_id":{"description":"Unique ID","$ref":"#/components/schemas/objectId"},"email":{"type":"string","description":"Email Address"},"password":{"type":"string","description":"Password"},"verification":{"type":"object","properties":{"code":{"type":"number","description":" The verification code sent to the user, typically used for validation purposes."},"expiresIn":{"type":"string","description":"The expiration date and time for the verification code, indicating when it is no longer valid."},"verified":{"type":"boolean","description":" A flag indicating whether the verification has been successfully completed (true) or not (false)."}},"description":"Verification status","required":["code","expiresIn","verified"]},"privileges":{"type":"array","items":{"type":"object","properties":{"resourceId":{"type":"string","description":"Organization resource id"},"role":{"type":"string","description":"Role Id"},"resouceType":{"type":"string","description":"Organization resource type"}},"required":["resourceId","role","resouceType"]},"description":"Organizations privileges"},"passwordReset":{"type":"object","properties":{"expiresIn":{"type":"string","description":"The expiration date and time for the password reset token, after which it is no longer valid."},"resetToken":{"type":"string","description":"A token used to authenticate the password reset request."}},"required":["expiresIn","resetToken"]},"UserStatus":{"type":"string","description":"The current status of the user"},"connectedAccount":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"id for google connected user"},"email":{"type":"string","description":"email that is connetted to account "},"provider":{"type":"string","description":"the authentication provider used"},"accessToken":{"type":"string","description":"acces token for google account"},"refreshToken":{"type":"string"},"connectedAt":{"type":"string"},"code":{"type":"string","description":"appleAccount.code,"},"idToken":{"type":"string","description":"appleAccount.idToken,"},"status":{"type":"string","description":"status of conneted accountes "},"verification":{"type":"object","properties":{"code":{"type":"number","description":" The verification code sent to the user, typically used for validation purposes."},"expiresIn":{"type":"string","description":"The expiration date and time for the verification code, indicating when it is no longer valid."},"verified":{"type":"boolean","description":" A flag indicating whether the verification has been successfully completed (true) or not (false)"}},"required":["code","expiresIn","verified"]}},"required":["id","email","provider","accessToken","refreshToken","connectedAt","code","idToken","status"]},"description":"Linked external accounts."},"tokens":{"type":"array","items":{"type":"string"},"description":" Session tokens."},"emailReset":{"type":"object","properties":{"expiresIn":{"type":"string","description":"The expiration date and time for the email reset process, indicating when the temporary email is no longer valid."},"tempEmail":{"type":"string","description":"The temporary email address that the user is switching to, pending verification."},"code":{"type":"number","description":" A verification code sent to the user to confirm the email change request."}},"required":["expiresIn","tempEmail","code"],"description":"Information for resetting the user's email."},"strikeCounter":{"type":"number","description":" Counter for violations."},"createdAt":{"type":"string","title":"","description":"date"},"updatedAt":{"type":"string"}},"required":["email","password","privileges","_id","UserStatus","strikeCounter","tokens","createdAt","updatedAt"]},"objectId":{"type":"string","description":"unique Mongo id","examples":["670775694daebf393b266ea1"]},"user.rto":{"type":"object","properties":{"id":{"type":"string","description":"Unique ID"},"email":{"type":"string","description":"Email Address"},"privileges":{"type":"array","items":{"type":"object","properties":{"resourceId":{"type":"string","description":"Organization resource id"},"role":{"type":"string","description":"Role Id"},"resouceType":{"type":"string","description":"Organization resource type"}},"required":["resourceId","role","resouceType"]},"description":"Organizations privileges"},"tokens":{"type":"array","items":{"type":"string"},"description":" Session tokens."},"strikeCounter":{"type":"number","description":" Counter for violations."},"connectedAccount":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"id for google connected user"},"email":{"type":"string","description":"email that is connetted to account "},"provider":{"type":"string","description":"the authentication provider used"},"accessToken":{"type":"string","description":"acces token for google account"},"refreshToken":{"type":"string"},"connectedAt":{"type":"string"},"code":{"type":"string","description":"appleAccount.code,"},"idToken":{"type":"string","description":"appleAccount.idToken,"},"status":{"type":"string","description":"status of conneted accountes "},"verification":{"type":"object","properties":{"code":{"type":"number","description":" The verification code sent to the user, typically used for validation purposes."},"expiresIn":{"type":"string","description":"The expiration date and time for the verification code, indicating when it is no longer valid."},"verified":{"type":"boolean","description":" A flag indicating whether the verification has been successfully completed (true) or not (false)"}},"required":["code","expiresIn","verified"]}},"required":["id","email","provider","accessToken","refreshToken","connectedAt","code","idToken","status"]},"description":"Linked external accounts."},"verificationCode":{"type":"string","description":"verificationCode"}},"required":["email","privileges","id","tokens","verificationCode"]}},"securitySchemes":{}},"servers":[]}